"{\"Id\":0,\"ReferenceType\":null,\"ReferenceId\":null,\"Level\":\"Error\",\"Message\":\"Customer entry failed!\",\"Source\":\"Services.PolicyService\",\"TimeStamp\":\"2025-08-05T12:21:13.0272702+05:30\",\"Data\":null,\"Exception\":\"Message: An error occurred while saving the entity changes. See the inner exception for details.\\r\\nSource: HomeConnect.Infrastructure\\r\\nStackTrace:    at HomeConnect.Infrastructure.Repositories.GenericRepository\\u00601.HomeConnect.Core.Interfaces.IRepository\\u003CT\\u003E.AddAsync(T entity) in \\\\\\\\amznfsxtvq2brbs.lgi.libertyinsurance.in\\\\share\\\\TPService\\\\Nilamani\\\\HomeConnect\\\\Development\\\\29July2025\\\\intl-apac-in-gha-tps-homeconnect-api\\\\HomeConnect.Infrastructure\\\\Repositories\\\\GenericRepository.cs:line 63\\r\\n   at HomeConnect.Application.Services.PolicyService.setHCCustomer(CustomerDto cust, Nullable\\u00601 CustomerID) in \\\\\\\\amznfsxtvq2brbs.lgi.libertyinsurance.in\\\\share\\\\TPService\\\\Nilamani\\\\HomeConnect\\\\Development\\\\29July2
025\\\\intl-apac-in-gha-tps-homeconnect-api\\\\HomeConnect.Application\\\\Services\\\\PolicyService.cs:line 161\\r\\nInner Exception: Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\u0022FK_CustomerDetails_Addresses_PermanentAddressId\\u0022. The conflict occurred in database \\u0022HomeConnect_QA\\u0022, table \\u0022dbo.Addresses\\u0022, column \\u0027Id\\u0027.\\r\\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action\\u00601 wrapCloseInAction)\\r\\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action\\u00601 wrapCloseInAction)\\r\\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\\r\\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleRe
sultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean\\u0026 dataReady)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean\\u0026 moreRows)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean\\u0026 more)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext\\u00601 context)\\r\\n--- End of stack trace from previous location ---\\r\\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\\r\\nClientConnectionId:293878c3-7648-4b1c-8a21-6729b1d0a53e\\r\\nError Number:547,State:0,Class:16\\r\\nMessage: The INSERT statement conflicted with the FOREIGN KEY constraint \\u0022FK_CustomerDetails_Addresses_PermanentAddressId\\u0022. The conflict occurred in database \\u00
22HomeConnect_QA\\u0022, table \\u0022dbo.Addresses\\u0022, column \\u0027Id\\u0027.\\r\\nSource: Core Microsoft SqlClient Data Provider\\r\\nStackTrace:    at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action\\u00601 wrapCloseInAction)\\r\\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action\\u00601 wrapCloseInAction)\\r\\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\\r\\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean\\u0026 dataReady)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean\\u0026 moreRows)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean\\u0026 more)\\r\\n   a
t Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\\r\\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext\\u00601 context)\\r\\n--- End of stack trace from previous location ---\\r\\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\\r\\n\"}"
